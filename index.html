
<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta content="IE=edge,chrome=1" http-equiv="X-UA-Compatible">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
    <title>API Reference</title>

    <style media="screen">
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight .gh {
  color: #999999;
}
.highlight .sr {
  color: #f6aa11;
}
.highlight .go {
  color: #888888;
}
.highlight .gp {
  color: #555555;
}
.highlight .gs {
}
.highlight .gu {
  color: #aaaaaa;
}
.highlight .nb {
  color: #f6aa11;
}
.highlight .cm {
  color: #75715e;
}
.highlight .cp {
  color: #75715e;
}
.highlight .c1 {
  color: #75715e;
}
.highlight .cs {
  color: #75715e;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cpf {
  color: #75715e;
}
.highlight .err {
  color: #75715e;
}
.highlight .gr {
  color: #75715e;
}
.highlight .gt {
  color: #75715e;
}
.highlight .gd {
  color: #49483e;
}
.highlight .gi {
  color: #49483e;
}
.highlight .ge {
  color: #49483e;
}
.highlight .kc {
  color: #f92672;
}
.highlight .kd {
  color: #f92672;
}
.highlight .kr {
  color: #f92672;
}
.highlight .no {
  color: #f92672;
}
.highlight .kt {
  color: #f92672;
}
.highlight .mf {
  color: #ae81ff;
}
.highlight .mh {
  color: #ae81ff;
}
.highlight .il {
  color: #ae81ff;
}
.highlight .mi {
  color: #ae81ff;
}
.highlight .mo {
  color: #ae81ff;
}
.highlight .m, .highlight .mb, .highlight .mx {
  color: #ae81ff;
}
.highlight .sc {
  color: #ae81ff;
}
.highlight .se {
  color: #ae81ff;
}
.highlight .ss {
  color: #ae81ff;
}
.highlight .sd {
  color: #e6db74;
}
.highlight .s2 {
  color: #e6db74;
}
.highlight .sb {
  color: #e6db74;
}
.highlight .sh {
  color: #e6db74;
}
.highlight .si {
  color: #e6db74;
}
.highlight .sx {
  color: #e6db74;
}
.highlight .s1 {
  color: #e6db74;
}
.highlight .s, .highlight .sa, .highlight .dl {
  color: #e6db74;
}
.highlight .na {
  color: #a6e22e;
}
.highlight .nc {
  color: #a6e22e;
}
.highlight .nd {
  color: #a6e22e;
}
.highlight .ne {
  color: #a6e22e;
}
.highlight .nf, .highlight .fm {
  color: #a6e22e;
}
.highlight .vc {
  color: #ffffff;
}
.highlight .nn {
  color: #ffffff;
}
.highlight .ni {
  color: #ffffff;
}
.highlight .bp {
  color: #ffffff;
}
.highlight .vg {
  color: #ffffff;
}
.highlight .vi {
  color: #ffffff;
}
.highlight .nv, .highlight .vm {
  color: #ffffff;
}
.highlight .w {
  color: #ffffff;
}
.highlight {
  color: #ffffff;
}
.highlight .n, .highlight .py, .highlight .nx {
  color: #ffffff;
}
.highlight .nl {
  color: #66d9ef;
}
.highlight .ow {
  color: #f6aa11;
}
.highlight .nt {
  color: #f6aa11;
}
.highlight .k, .highlight .kv {
  color: #f6aa11;
}
.highlight .kn {
  color: #f6aa11;
}
.highlight .kp {
  color: #f6aa11;
}
.highlight .o {
  color: #f6aa11;
}
    </style>
    <style media="print">
      * {
        -webkit-transition:none!important;
        transition:none!important;
      }
      .highlight table td { padding: 5px; }
.highlight table pre { margin: 0; }
.highlight, .highlight .w {
  color: #586e75;
}
.highlight .err {
  color: #002b36;
  background-color: #dc322f;
}
.highlight .c, .highlight .ch, .highlight .cd, .highlight .cm, .highlight .cpf, .highlight .c1, .highlight .cs {
  color: #657b83;
}
.highlight .cp {
  color: #b58900;
}
.highlight .nt {
  color: #b58900;
}
.highlight .o, .highlight .ow {
  color: #93a1a1;
}
.highlight .p, .highlight .pi {
  color: #93a1a1;
}
.highlight .gi {
  color: #859900;
}
.highlight .gd {
  color: #dc322f;
}
.highlight .gh {
  color: #268bd2;
  background-color: #002b36;
  font-weight: bold;
}
.highlight .k, .highlight .kn, .highlight .kp, .highlight .kr, .highlight .kv {
  color: #6c71c4;
}
.highlight .kc {
  color: #cb4b16;
}
.highlight .kt {
  color: #cb4b16;
}
.highlight .kd {
  color: #cb4b16;
}
.highlight .s, .highlight .sb, .highlight .sc, .highlight .dl, .highlight .sd, .highlight .s2, .highlight .sh, .highlight .sx, .highlight .s1 {
  color: #859900;
}
.highlight .sa {
  color: #6c71c4;
}
.highlight .sr {
  color: #2aa198;
}
.highlight .si {
  color: #d33682;
}
.highlight .se {
  color: #d33682;
}
.highlight .nn {
  color: #b58900;
}
.highlight .nc {
  color: #b58900;
}
.highlight .no {
  color: #b58900;
}
.highlight .na {
  color: #268bd2;
}
.highlight .m, .highlight .mb, .highlight .mf, .highlight .mh, .highlight .mi, .highlight .il, .highlight .mo, .highlight .mx {
  color: #859900;
}
.highlight .ss {
  color: #859900;
}
    </style>
    <link href="stylesheets/screen-0b6cbbfe.css" rel="stylesheet" media="screen" />
    <link href="stylesheets/print-953e3353.css" rel="stylesheet" media="print" />
      <script src="javascripts/all-0fcbebdb.js"></script>

    <script>
      $(function() { setupCodeCopy(); });
    </script>
  </head>

  <body class="index" data-languages="[]">
    <a href="#" id="nav-button">
      <span>
        NAV
        <img src="images/navbar-cad8cdcb.png" alt="" />
      </span>
    </a>
    <div class="toc-wrapper">
      <img src="images/logo-12c3d9ca.png" class="logo" alt="" />
        <div class="search">
          <input type="text" class="search" id="input-search" placeholder="Search">
        </div>
        <ul class="search-results"></ul>
      <ul id="toc" class="toc-list-h1">
          <li>
            <a href="#introduction" class="toc-h1 toc-link" data-title="Introduction">Introduction</a>
          </li>
          <li>
            <a href="#authentication" class="toc-h1 toc-link" data-title="Authentication">Authentication</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#calling-the-api-from-browsers" class="toc-h2 toc-link" data-title="Calling the API from browsers">Calling the API from browsers</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#account" class="toc-h1 toc-link" data-title="Account">Account</a>
          </li>
          <li>
            <a href="#projects" class="toc-h1 toc-link" data-title="Projects">Projects</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#the-project-object" class="toc-h2 toc-link" data-title="The Project Object">The Project Object</a>
                  </li>
                  <li>
                    <a href="#create-a-project" class="toc-h2 toc-link" data-title="Create a Project">Create a Project</a>
                  </li>
                  <li>
                    <a href="#get-a-project" class="toc-h2 toc-link" data-title="Get a Project">Get a Project</a>
                  </li>
                  <li>
                    <a href="#update-a-project" class="toc-h2 toc-link" data-title="Update a Project">Update a Project</a>
                  </li>
                  <li>
                    <a href="#delete-a-project" class="toc-h2 toc-link" data-title="Delete a Project">Delete a Project</a>
                  </li>
                  <li>
                    <a href="#list-all-projects" class="toc-h2 toc-link" data-title="List All Projects">List All Projects</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#filter" class="toc-h1 toc-link" data-title="Filter">Filter</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#filter-object" class="toc-h2 toc-link" data-title="Filter Object">Filter Object</a>
                  </li>
                  <li>
                    <a href="#detection-levels" class="toc-h2 toc-link" data-title="Detection Levels">Detection Levels</a>
                  </li>
                  <li>
                    <a href="#update-a-filter" class="toc-h2 toc-link" data-title="Update a Filter">Update a Filter</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#errors" class="toc-h1 toc-link" data-title="Errors">Errors</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#rate-limits" class="toc-h2 toc-link" data-title="Rate limits">Rate limits</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#moderation" class="toc-h1 toc-link" data-title="Moderation">Moderation</a>
          </li>
          <li>
            <a href="#text-moderation" class="toc-h1 toc-link" data-title="Text Moderation">Text Moderation</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#email" class="toc-h2 toc-link" data-title="Email">Email</a>
                  </li>
                  <li>
                    <a href="#phone-number" class="toc-h2 toc-link" data-title="Phone number">Phone number</a>
                  </li>
                  <li>
                    <a href="#urls" class="toc-h2 toc-link" data-title="URLs">URLs</a>
                  </li>
                  <li>
                    <a href="#address" class="toc-h2 toc-link" data-title="Address">Address</a>
                  </li>
                  <li>
                    <a href="#person-names" class="toc-h2 toc-link" data-title="Person Names">Person Names</a>
                  </li>
                  <li>
                    <a href="#usernames" class="toc-h2 toc-link" data-title="Usernames">Usernames</a>
                  </li>
                  <li>
                    <a href="#swear-words-and-profanity" class="toc-h2 toc-link" data-title="Swear Words and Profanity">Swear Words and Profanity</a>
                  </li>
                  <li>
                    <a href="#sensitive-numbers" class="toc-h2 toc-link" data-title="Sensitive numbers">Sensitive numbers</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#analyzing" class="toc-h1 toc-link" data-title="Analyzing">Analyzing</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview-2" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#language-analyzer" class="toc-h2 toc-link" data-title="Language Analyzer">Language Analyzer</a>
                  </li>
                  <li>
                    <a href="#toxicity-analyzer" class="toc-h2 toc-link" data-title="Toxicity Analyzer">Toxicity Analyzer</a>
                  </li>
                  <li>
                    <a href="#quality-analyzer" class="toc-h2 toc-link" data-title="Quality Analyzer">Quality Analyzer</a>
                  </li>
                  <li>
                    <a href="#propriety-analyzer" class="toc-h2 toc-link" data-title="Propriety Analyzer">Propriety Analyzer</a>
                  </li>
              </ul>
          </li>
          <li>
            <a href="#custom-models" class="toc-h1 toc-link" data-title="Custom models">Custom models</a>
              <ul class="toc-list-h2">
                  <li>
                    <a href="#overview-3" class="toc-h2 toc-link" data-title="Overview">Overview</a>
                  </li>
                  <li>
                    <a href="#creating-a-custom-model" class="toc-h2 toc-link" data-title="Creating a custom model">Creating a custom model</a>
                  </li>
                  <li>
                    <a href="#using-a-custom-model" class="toc-h2 toc-link" data-title="Using a custom model">Using a custom model</a>
                  </li>
                  <li>
                    <a href="#limits" class="toc-h2 toc-link" data-title="Limits">Limits</a>
                  </li>
              </ul>
          </li>
      </ul>
        <ul class="toc-footer">
            <li><a class="only-signed-out" href='https://moderationapi.com/app'>Sign in</a></li>
            <li><a class="only-signed-out" href='https://moderationapi.com'>Try the API</a></li>
            <li><a class="only-signed-in" href='https://moderationapi.com/app'>Go to Dashboard</a></li>
        </ul>
    </div>
    <div class="page-wrapper">
      <div class="dark-box"></div>
      <div class="content">
        <h1 id='introduction'>Introduction</h1>
<p>Welcome to the <a href="https://moderationapi.com">Moderation API</a>.</p>

<p>The moderation API automates advanced text analysis tasks.</p>

<ul>
<li>Identify personal information and mask it out - also if the user attempts to evade detection.</li>
<li>Detect toxic content in real time.</li>
<li>Detect and remove profanity - also if the user attempts to evade detection.</li>
<li>Analyze the quality of a text and prevent spam.</li>
<li>Detect the language of a text.</li>
<li>Remove sensitive data from text.</li>
</ul>

<p>The basic workflow is simple:</p>

<ol>
<li>Define what <a href="#filter-object">type of data</a> you want to detect.</li>
<li><a href="#text-moderation">Send a request</a> to the API with content.</li>
<li>We send back the detected values and original content with masked out values.</li>
</ol>

<p><img src="images/example-e3ee9cf9.png" title="Moderation API detection" alt="Moderation api detection" /></p>
<h1 id='authentication'>Authentication</h1>
<blockquote>
<p>To test your API key:</p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://moderationapi.com/api/v1/auth"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer API_KEY"</span>
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"message"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Valid API key"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"project"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Project Name"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Moderation API uses keys to allow access to the API. You can get an API key by <a href="https://moderationapi.com/app/projects">creating a project</a> in the moderation dashboard.</p>

<p>Moderation API expects the key to be included in all API requests to the server in a header that looks like the following:</p>

<p><code>Authorization: Bearer API_KEY</code></p>

<aside class="notice">
You must replace <code>API_KEY</code> with your project API key.
</aside>
<h2 id='calling-the-api-from-browsers'>Calling the API from browsers</h2>
<p>We recommend to only use the API server-side to avoid exposing your API key. Usually your server would call the API with some text before storing it in your database, and optionally store the original text alongside the moderated text.</p>

<p>Even though it&#39;s not recommended, it is still possible to call the API client-side from javascript. See the example to the right.</p>

<blockquote>
<p>Detecting emails using javascript and fetch:</p>
</blockquote>
<div class="highlight"><pre class="highlight javascript tab-javascript"><code><span class="kd">const</span> <span class="nx">text</span> <span class="o">=</span> <span class="dl">"</span><span class="s2">Hello my email is chris@moderationapi.com. What is yours?</span><span class="dl">"</span><span class="p">;</span>

<span class="kd">const</span> <span class="nx">data</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">fetch</span><span class="p">(</span>
  <span class="s2">`https://moderationapi.com/api/v1/moderation/text?value=</span><span class="p">${</span><span class="nb">encodeURIComponent</span><span class="p">(</span>
    <span class="nx">text</span>
  <span class="p">)}</span><span class="s2">`</span><span class="p">,</span>
  <span class="p">{</span>
    <span class="c1">// Ideally the api key should not be included here, but only server side.</span>
    <span class="na">headers</span><span class="p">:</span> <span class="p">{</span>
      <span class="na">Authorization</span><span class="p">:</span> <span class="s2">`Bearer </span><span class="p">${</span><span class="nx">API_KEY</span><span class="p">}</span><span class="s2">`</span><span class="p">,</span>
    <span class="p">},</span>
  <span class="p">}</span>
<span class="p">);</span>

<span class="kd">const</span> <span class="p">{</span> <span class="nx">content</span> <span class="p">}</span> <span class="o">=</span> <span class="k">await</span> <span class="nx">data</span><span class="p">.</span><span class="nx">json</span><span class="p">();</span>
<span class="c1">// content = "Hello my email is {{ email hidden }}. What is yours?"</span>
</code></pre></div><h1 id='account'>Account</h1><div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://moderationapi.com/api/v1/account"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer API_KEY"</span>
</code></pre></div>
<blockquote>
<p>The above endpoint returns a JSON object like this:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"601fcbcd454faa5be1d36cf6"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"created_at"</span><span class="p">:</span><span class="w"> </span><span class="s2">"2021-02-07T11:15:25.561Z"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"paid_plan_name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"Lite"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"text_api_quota"</span><span class="p">:</span><span class="w"> </span><span class="mi">100</span><span class="p">,</span><span class="w">
  </span><span class="nl">"text_api_usage_this_month"</span><span class="p">:</span><span class="w"> </span><span class="mi">45</span><span class="p">,</span><span class="w">
  </span><span class="nl">"current_project"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Project Name"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>To check your account status at any time you can use this endpoint.</p>

<p>It will respond with your quota levels and current usage levels. Usage resets the 1st each month UTC time..</p>
<h1 id='projects'>Projects</h1>
<blockquote>
<p>Endpoints:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>  GET     /api/v1/projects
  GET     /api/v1/projects/:id
  POST    /api/v1/projects/:id
</code></pre></div>
<p>You can create multiple projects and use the API to moderate at different levels simultaneously.
Each project has it&#39;s own <a href="#filter">filter</a> that you can tweak to your preference.</p>

<p>New projects have to be created from the dashboard.</p>
<h2 id='the-project-object'>The Project Object</h2>
<blockquote>
<p>Project Object Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"601fe2eef2538064a22d496b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ email hidden }}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ phone hidden }}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ url hidden }}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ address hidden }}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Project Name"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project-api-key"</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">Is</span><span class="w"> </span><span class="err">replaced</span><span class="w"> </span><span class="err">with</span><span class="w"> </span><span class="err">actual</span><span class="w"> </span><span class="err">API</span><span class="w"> </span><span class="err">Key</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>_id</strong></td>
<td>string</td>
<td>Unique identifier for the project.</td>
</tr>
<tr>
<td><strong>filter</strong></td>
<td>object</td>
<td>The current filter settings for the project. See <a href="#filter">filter object</a></td>
</tr>
<tr>
<td><strong>name</strong></td>
<td>string</td>
<td>Detect even the slightest chance of containing personal information.</td>
</tr>
<tr>
<td><strong>apiKey</strong></td>
<td>string</td>
<td>The api key to be used with this project. See <a href="#authentication">authentication</a></td>
</tr>
</tbody></table>
<h2 id='create-a-project'>Create a Project</h2>
<p>Projects can only be created from the Moderation dashboard.</p>
<h2 id='get-a-project'>Get a Project</h2>
<blockquote>
<p><code>GET /api/v1/projects/:id</code></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://moderationapi.com/api/v1/projects/:id"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer API_KEY"</span>
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"601fe2eef2538064a22d496b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ email hidden }}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ phone hidden }}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ url hidden }}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ address hidden }}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Project Name"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project-api-key"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Retrieves the details of an existing project. Supply the unique project ID from either a project creation request or the project list, and the API will return the corresponding project information.</p>
<h3 id='parameters'>Parameters</h3><h4 id='no-parameters'>No parameters</h4><h3 id='returns'>Returns</h3>
<p>Returns a project object if a valid identifier was provided.</p>
<h2 id='update-a-project'>Update a Project</h2>
<blockquote>
<p><code>POST /api/v1/projects/:id</code></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://moderationapi.com/api/v1/projects/:id"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer API_KEY"</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
  <span class="nt">-d</span> json
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"601fe2eef2538064a22d496b"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ email hidden }}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ phone hidden }}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ url hidden }}"</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
      </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ address hidden }}"</span><span class="w">
    </span><span class="p">}</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Project Name"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project-api-key"</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Updates the specific project by setting the values of the parameters passed. Any parameters not provided will be left unchanged.</p>
<h3 id='parameters-2'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>name</strong> optional</td>
<td>string</td>
<td>Name of project. Only used internally.</td>
</tr>
<tr>
<td><strong>filter</strong> optional</td>
<td>object</td>
<td>Filter options to be used for this project. See <a href="#filter-object">filter object</a>.</td>
</tr>
</tbody></table>
<h3 id='returns-2'>Returns</h3>
<p>Returns the project object if the update succeeded.</p>
<h2 id='delete-a-project'>Delete a Project</h2>
<p>Projects can only be deleted from the Moderation dashboard.</p>

<aside class="warning">
  The project API key will be invalidated and requests using the key will fail.
</aside>
<h2 id='list-all-projects'>List All Projects</h2>
<blockquote>
<p><code>GET /api/v1/projects</code></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://moderationapi.com/api/v1/projects"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer API_KEY"</span>
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">[</span><span class="w">
  </span><span class="p">{</span><span class="w">
    </span><span class="nl">"_id"</span><span class="p">:</span><span class="w"> </span><span class="s2">"601fe2eef2538064a22d496b"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"filter"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
      </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ email hidden }}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ phone hidden }}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ url hidden }}"</span><span class="w">
      </span><span class="p">},</span><span class="w">
      </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
        </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ address hidden }}"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">},</span><span class="w">
    </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="s2">"My Project Name"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"apiKey"</span><span class="p">:</span><span class="w"> </span><span class="s2">"project-api-key"</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">]</span><span class="w">
</span></code></pre></div>
<p>Returns a list of your projects. The projects are returned sorted by creation date, with the most recent project appearing first.</p>
<h3 id='parameters-3'>Parameters</h3><h4 id='no-parameters-2'>No Parameters</h4><h3 id='returns-3'>Returns</h3>
<p>An array with all projects. Each entry in the array is a separate projects object. If no more projects are available, the resulting array will be empty. This request should only return an error if the API key is invalid.</p>
<h1 id='filter'>Filter</h1>
<p>The filter is used to control the detection engine and the responses you get from the API.
You can change the filter from the moderation dashboard or programmatically using the API when <a href="#update-a-project">updating a project</a>.</p>
<h2 id='filter-object'>Filter Object</h2>
<blockquote>
<p>Filter Object Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"masking"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ email hidden }}"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"masking"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ phone hidden }}"</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"enabled"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"masking"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mask"</span><span class="p">:</span><span class="w"> </span><span class="s2">"{{ name hidden }}"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"components"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"first"</span><span class="p">,</span><span class="w"> </span><span class="s2">"middle"</span><span class="p">,</span><span class="w"> </span><span class="s2">"last"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>email</strong></td>
<td>object</td>
<td>Data type settings for email detection. <a href="#email">See more</a></td>
</tr>
<tr>
<td><strong>phone</strong></td>
<td>object</td>
<td>Data type settings for phone number detection. <a href="#phone-number">See more</a></td>
</tr>
<tr>
<td><strong>url</strong></td>
<td>object</td>
<td>Data type settings for URL detection. <a href="#urls">See more</a></td>
</tr>
<tr>
<td><strong>address</strong></td>
<td>object</td>
<td>Data type settings for address detection. <a href="#address">See more</a></td>
</tr>
<tr>
<td><strong>name</strong></td>
<td>object</td>
<td>Data type settings for name detection. <a href="#person-names">See more</a></td>
</tr>
<tr>
<td><strong>username</strong></td>
<td>object</td>
<td>Data type settings for username detection. <a href="#usernames">See more</a></td>
</tr>
<tr>
<td><strong>profanity</strong></td>
<td>object</td>
<td>Data type settings for profanity detection. <a href="#swear-words-and-profanity">See more</a></td>
</tr>
<tr>
<td><strong>sensitive</strong></td>
<td>object</td>
<td>Data type settings for sensitive numbers detection. <a href="#sensitive-numbers">See more</a></td>
</tr>
<tr>
<td><strong>[modelId]</strong></td>
<td>object</td>
<td>Data type settings for a custom model. <a href="#custom-models">See more</a></td>
</tr>
</tbody></table>
<h3 id='data-type-settings'>Data type settings</h3>
<table><thead>
<tr>
<th>Attribute</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>enabled</strong></td>
<td>boolean</td>
<td>Turn detection of this data type on or off.</td>
</tr>
<tr>
<td><strong>mode</strong></td>
<td>string</td>
<td>The detection mode. Must be a supported <a href="#detection-levels">detection mode</a>.</td>
</tr>
<tr>
<td><strong>masking</strong></td>
<td>boolean</td>
<td>Turn masking of this data type on or off.</td>
</tr>
<tr>
<td><strong>mask</strong></td>
<td>string</td>
<td>The mask that to be used on detected values if masking is turned on.</td>
</tr>
<tr>
<td><strong>components</strong></td>
<td>array of string</td>
<td>What components of the data type you wish to detect. For example only last names or street names. Look up supported components under the specific <a href="#text-moderation">data types</a>.</td>
</tr>
</tbody></table>
<h2 id='detection-levels'>Detection Levels</h2>
<p>Most types of data can be detected using 3 different levels. Some only support one of the three.</p>

<table><thead>
<tr>
<th>Mode</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><code>NORMAL</code></td>
<td>Detect values that have been formatted correctly.</td>
</tr>
<tr>
<td><code>SUSPICIOUS</code></td>
<td>Detect values where the writer is trying to evade detection.</td>
</tr>
<tr>
<td><code>PARANOID</code></td>
<td>Detect even the slightest chance of containing personal information. This might result in false positives.</td>
</tr>
</tbody></table>

<p>We recommend to start with the <code>NORMAL</code> mode and increase the level if needed.</p>
<h3 id='examples'>Examples</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Detected by</th>
<th>Match response</th>
</tr>
</thead><tbody>
<tr>
<td>reach me on example@gmail.com</td>
<td><code>NORMAL</code>, <code>SUSPICIOUS</code> , <code>PARANOID</code></td>
<td>example@gmail.com</td>
</tr>
<tr>
<td>reach me on example at gmail dot com</td>
<td><code>SUSPICIOUS</code> , <code>PARANOID</code></td>
<td>example at gmail dot com</td>
</tr>
<tr>
<td>reach me on example at that google email domain</td>
<td><code>PARANOID</code></td>
<td>example at that google email domain</td>
</tr>
</tbody></table>
<h2 id='update-a-filter'>Update a Filter</h2>
<p>A filter can be updated using the <a href="#update-a-project">project update endpoint</a>.</p>
<h1 id='errors'>Errors</h1>
<p>The API uses the following error codes:</p>

<table><thead>
<tr>
<th>Error Code</th>
<th>Meaning</th>
</tr>
</thead><tbody>
<tr>
<td>400</td>
<td>Bad Request -- Your request is invalid.</td>
</tr>
<tr>
<td>401</td>
<td>Unauthorized -- Your API key is wrong.</td>
</tr>
<tr>
<td>403</td>
<td>Forbidden -- The requested resource is for administrators only.</td>
</tr>
<tr>
<td>404</td>
<td>Not Found -- The specified resource could not be found.</td>
</tr>
<tr>
<td>405</td>
<td>Method Not Allowed -- You tried to access a resource with an invalid method.</td>
</tr>
<tr>
<td>429</td>
<td>Too Many Requests -- See <a href="#rate-limits">rate limits</a></td>
</tr>
<tr>
<td>500</td>
<td>Internal Server Error -- We had a problem with our server. Try again later.</td>
</tr>
<tr>
<td>503</td>
<td>Service Unavailable -- We&#39;re temporarily offline for maintenance. Please try again later.</td>
</tr>
</tbody></table>
<h2 id='rate-limits'>Rate limits</h2>
<p>The default API rate limit is 10 requests per 10 seconds.</p>

<p>We may reduce limits to prevent abuse, or increase limits to enable high-traffic applications. To request an increased rate limit, please contact support.</p>
<h3 id='handling-rate-limts'>Handling rate limts</h3>
<p>A basic technique for integrations to gracefully handle limiting is to watch for <code>429</code> status codes and build in a retry mechanism. The retry mechanism should follow an exponential backoff schedule to reduce request volume when necessary.</p>
<h1 id='moderation'>Moderation</h1>
<blockquote>
<p>Endpoints:</p>
</blockquote>
<div class="highlight"><pre class="highlight plaintext"><code>  POST     /api/v1/moderation/text
</code></pre></div>
<p>The moderation API works by submitting content to the API and you get back the cleaned content and matches for the type of data you&#39;re looking for.</p>

<p>Currently the API detects</p>

<ul>
<li><a href="#email">Emails</a></li>
<li><a href="#phone-number">Phone numbers</a></li>
<li><a href="#urls">URLs</a></li>
<li><a href="#address">Physical Addresses</a></li>
<li><a href="#person-names">Names</a></li>
<li><a href="#usernames">Usernames</a></li>
<li><a href="#swear-words-and-profanity">Profanity</a></li>
</ul>
<h1 id='text-moderation'>Text Moderation</h1><h2 id='overview'>Overview</h2>
<p>All types of text moderation uses the same endpoint <code>/api/v1/moderation/text</code>. What gets moderated depends on the projects <a href="#filter">filter settings</a>.</p>

<blockquote>
<p><code>POST /api/v1/moderation/text</code></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://moderationapi.com/api/v1/moderation/text"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer API_KEY"</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
  <span class="nt">-d</span> json
</code></pre></div>
<blockquote>
<p>Response</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"status"</span><span class="p">:</span><span class="w"> </span><span class="s2">"success"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"request"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"timestamp"</span><span class="p">:</span><span class="w"> </span><span class="mi">1612792574690</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"content_moderated"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"data_found"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
  </span><span class="nl">"original"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You can contact me on mr_robot[at]gmail|DOT|com or call me on 12 34 65 78"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"content"</span><span class="p">:</span><span class="w"> </span><span class="s2">"You can contact me on {{ email hidden }} or call me on {{ number hidden }}"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUSPICIOUS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"mr_robot[at]gmail|DOT|com"</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"12 34 65 78"</span><span class="p">]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">},</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">false</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div><h3 id='parameters-4'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>value</strong></td>
<td>string</td>
<td>The text content you want to moderate. Limited to 10.000 characters per request.</td>
</tr>
</tbody></table>
<h3 id='returns-4'>Returns</h3>
<p>Returns the moderation object. Whether a data type is included depends if it is turned on in the projects <a href="#filter">filter settings</a>.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>status</strong></td>
<td>string</td>
<td>error or success.</td>
</tr>
<tr>
<td><strong>content</strong></td>
<td>string</td>
<td>The moderated string. If masking is turned on in the <a href="#filter">filter</a> all detected values will be hidden.</td>
</tr>
<tr>
<td><strong>content_moderated</strong></td>
<td>boolean</td>
<td>A boolean indicating if the returned content is different from the original text.</td>
</tr>
<tr>
<td><strong>data_found</strong></td>
<td>boolean</td>
<td>A boolean indicating if any data has been found. Equal to checking each <code>found</code> field on the data types.</td>
</tr>
<tr>
<td><strong>[data type]</strong></td>
<td>object</td>
<td>Each enabled data type get&#39;s it&#39;s own field in the response. Only included if detection is enabled for the data type. See the responses for each data type below.</td>
</tr>
</tbody></table>
<h2 id='email'>Email</h2>
<blockquote>
<p>Email Moderation Object Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"email"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUSPICIOUS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"mr_robot[at]gmail|DOT|com"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>matches</strong></td>
<td>array of strings</td>
<td>The detected values in order of probability of being correct.</td>
</tr>
<tr>
<td><strong>found</strong></td>
<td>boolean</td>
<td>Indicates whether the content contains an email. This does not always correspond to if any matches are found - ex. the text might intent to share personal data, but an exact match cannot be found.</td>
</tr>
<tr>
<td><strong>mode</strong></td>
<td>string</td>
<td>The <a href="#detection-levels">detection mode</a> that has been set for emails in the project filter.</td>
</tr>
</tbody></table>
<h3 id='examples-2'>Examples</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Detected by</th>
<th>Matches</th>
</tr>
</thead><tbody>
<tr>
<td>reach me on example@gmail.com</td>
<td><code>NORMAL</code>, <code>SUSPICIOUS</code> , <code>PARANOID</code></td>
<td>example@gmail.com</td>
</tr>
<tr>
<td>reach me on example at gmail dot com</td>
<td><code>SUSPICIOUS</code> , <code>PARANOID</code></td>
<td>example at gmail dot com</td>
</tr>
<tr>
<td>reach me on example at that google email domain</td>
<td><code>PARANOID</code></td>
<td>example at that google email domain</td>
</tr>
</tbody></table>
<h2 id='phone-number'>Phone number</h2>
<blockquote>
<p>Phone Moderation Object Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"phone"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"12 34 56 78"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>matches</strong></td>
<td>array of strings</td>
<td>The detected values in order of probability of being correct.</td>
</tr>
<tr>
<td><strong>found</strong></td>
<td>boolean</td>
<td>Indicates whether the content contains a phone number. This does not always correspond to if any matches are found - ex. the text might intent to share personal data, but an exact match cannot be found.</td>
</tr>
<tr>
<td><strong>mode</strong></td>
<td>string</td>
<td>The <a href="#detection-levels">detection mode</a> that has been set for phone numbers in the project filter.</td>
</tr>
</tbody></table>
<h3 id='examples-3'>Examples</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Detected by</th>
<th>Matches</th>
</tr>
</thead><tbody>
<tr>
<td>12 34 56 78</td>
<td><code>NORMAL</code>, <code>SUSPICIOUS</code> , <code>PARANOID</code></td>
<td>12 34 56 78</td>
</tr>
<tr>
<td>one two three four five six seven eight</td>
<td><code>SUSPICIOUS</code> , <code>PARANOID</code></td>
<td>one two three four five six seven eight</td>
</tr>
<tr>
<td>12 this 34 is 46 an 7 example 8</td>
<td><code>PARANOID</code></td>
<td>12 this 34 is 46 an 7 example 8</td>
</tr>
</tbody></table>
<h2 id='urls'>URLs</h2>
<blockquote>
<p>URL Moderation Object Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"url"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"http://anonymous.com"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>matches</strong></td>
<td>array of strings</td>
<td>The detected values in order of probability of being correct.</td>
</tr>
<tr>
<td><strong>found</strong></td>
<td>boolean</td>
<td>Indicates whether the content contains an URL. This does not always correspond to if any matches are found - ex. the text might intent to share a URL, but an exact match cannot be found.</td>
</tr>
<tr>
<td><strong>mode</strong></td>
<td>string</td>
<td>The <a href="#detection-levels">detection mode</a> that has been set for URLs in the project filter.</td>
</tr>
</tbody></table>
<h3 id='examples-4'>Examples</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Detected by</th>
<th>Matches</th>
</tr>
</thead><tbody>
<tr>
<td>http://anonymous.com</td>
<td><code>NORMAL</code>, <code>SUSPICIOUS</code> , <code>PARANOID</code></td>
<td>http://anonymous.com</td>
</tr>
<tr>
<td>anonymous.com</td>
<td><code>SUSPICIOUS</code> , <code>PARANOID</code></td>
<td>anonymous.com</td>
</tr>
<tr>
<td>anonymous(dot)com</td>
<td><code>PARANOID</code></td>
<td>anonymous(dot)com</td>
</tr>
</tbody></table>
<h2 id='address'>Address</h2>
<blockquote>
<p>Address Moderation Object Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"address"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"767 5th Ave, New York, NY 10153"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Address detection uses an advanced AI trained specifically for detecting addresses. The AI works well on a wide range of addresses, but can increase the API response time. It will detect everything from house numbers to cities and postal codes for both real and imaginary addresses.</p>

<aside class="notice">
The address AI works best with english texts - if you need additional languages, contact us at support@moderationapi.com
</aside>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>matches</strong></td>
<td>array of strings</td>
<td>The detected addresses in the order they&#39;re found in the text.</td>
</tr>
<tr>
<td><strong>found</strong></td>
<td>boolean</td>
<td>Indicates whether the content contains an address.</td>
</tr>
<tr>
<td><strong>mode</strong></td>
<td>string</td>
<td>The <a href="#detection-levels">detection mode</a> that has been set for addresses in the project filter.</td>
</tr>
</tbody></table>
<h3 id='examples-5'>Examples</h3>
<table><thead>
<tr>
<th>Value with highlighted <code>matches</code></th>
</tr>
</thead><tbody>
<tr>
<td>You can visit our store on <strong><code>767 5th Ave, New York, NY 10153</code></strong>.</td>
</tr>
<tr>
<td>They live on the <strong><code>Abbey Road</code></strong>, but it&#39;s a long way from here.</td>
</tr>
<tr>
<td><strong><code>Diagon Alley 123</code></strong> is hidden behind the brick wall.</td>
</tr>
</tbody></table>
<h2 id='person-names'>Person Names</h2>
<blockquote>
<p>Person names Moderation Object Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"name"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"Albus Dumbledore"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>matches</strong></td>
<td>array of strings</td>
<td>The detected names in the order they&#39;re found in the text.</td>
</tr>
<tr>
<td><strong>found</strong></td>
<td>boolean</td>
<td>Indicates whether the content contains a name.</td>
</tr>
<tr>
<td><strong>mode</strong></td>
<td>string</td>
<td>The <a href="#detection-levels">detection mode</a> that has been set for names in the project filter.</td>
</tr>
</tbody></table>
<h3 id='only-detect-parts-of-the-name'>Only detect parts of the name</h3>
<p>If you only want to hide last names you can change the level detected name components in the filter. Either using the API or in the dashboard.</p>
<h3 id='examples-6'>Examples</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Components</th>
<th>Matches</th>
</tr>
</thead><tbody>
<tr>
<td>My name is Albus Percival Dumbledore</td>
<td><code>[&#39;first&#39;, &#39;middle&#39;, &#39;last&#39;]</code></td>
<td>Albus Percival Dumbledore</td>
</tr>
<tr>
<td>My name is Albus Percival Dumbledore</td>
<td><code>[&#39;middle&#39;, &#39;last&#39;]</code></td>
<td>Percival Dumbledore</td>
</tr>
<tr>
<td>My name is Albus Percival Dumbledore</td>
<td><code>[&#39;last&#39;]</code></td>
<td>Dumbledore</td>
</tr>
</tbody></table>
<h2 id='usernames'>Usernames</h2>
<p>For examples detect Instagram handles or other social media usernames.</p>

<aside class="notice">
Experimental: might not identify all cases.
</aside>

<blockquote>
<p>Usernames Moderation Object Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"username"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SUSPICIOUS"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"@chris_93"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>matches</strong></td>
<td>array of strings</td>
<td>The detected values in order of probability of being correct.</td>
</tr>
<tr>
<td><strong>found</strong></td>
<td>boolean</td>
<td>Indicates whether the content contains a username. This does not always correspond to if any matches are found - ex. the text might intent to share personal data, but an exact match cannot be found.</td>
</tr>
<tr>
<td><strong>mode</strong></td>
<td>string</td>
<td>The <a href="#detection-levels">detection mode</a> that has been set for usernames in the project filter.</td>
</tr>
</tbody></table>
<h2 id='swear-words-and-profanity'>Swear Words and Profanity</h2>
<p>Detect profane and inappropriate words. Does not detect toxic language without swear words - for example: &quot;You are a monkey&quot;. To handle such use-cases we recommend our <a href="#toxicity-analyzer">toxicity analyzer</a>.</p>

<aside class="notice">
Only works with english language - additional languages can be added upon request - contact us at support@moderationapi.com.
<br>
Fails gracefully on other languages than english with a normal response with empty matches.
</aside>

<blockquote>
<p>Profanity Moderation Object Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"profanity"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"fuck"</span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>matches</strong></td>
<td>array of strings</td>
<td>The detected profane words.</td>
</tr>
<tr>
<td><strong>found</strong></td>
<td>boolean</td>
<td>Indicates whether the content contains profane words.</td>
</tr>
<tr>
<td><strong>mode</strong></td>
<td>string</td>
<td>The <a href="#detection-levels">detection mode</a> that has been set for profanity in the project filter.</td>
</tr>
</tbody></table>
<h3 id='examples-7'>Examples</h3>
<table><thead>
<tr>
<th>Value</th>
<th>Detected by</th>
<th>Matches</th>
</tr>
</thead><tbody>
<tr>
<td>fuck</td>
<td><code>NORMAL</code>, <code>SUSPICIOUS</code> , <code>PARANOID</code></td>
<td>fuck</td>
</tr>
<tr>
<td>ffuuccckkk</td>
<td><code>SUSPICIOUS</code> , <code>PARANOID</code></td>
<td>ffuuccckkk</td>
</tr>
<tr>
<td>kcuf</td>
<td><code>PARANOID</code></td>
<td>kcuf</td>
</tr>
</tbody></table>
<h2 id='sensitive-numbers'>Sensitive numbers</h2>
<p>This model detects a range of sensitive information:</p>

<ul>
<li><strong>Personal Numbers</strong>: detect social security numbers, driver IDs, passport numbers, etc.</li>
<li><strong>Bank Accounts</strong>: detect account numbers and routing numbers.</li>
<li><strong>Payment Cards</strong>: detect card numbers, expiry dates and CVV.</li>
<li><strong>Passwords</strong>: detect passwords and 4-digit pin codes.</li>
<li><strong>Digital Addresses</strong>: detect IP-addresses and MAC addresses.</li>
</ul>

<blockquote>
<p>Sensitive Numbers Moderation Object Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"sensitive"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"found"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="p">,</span><span class="w">
    </span><span class="nl">"mode"</span><span class="p">:</span><span class="w"> </span><span class="s2">"NORMAL"</span><span class="p">,</span><span class="w">
    </span><span class="nl">"matches"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="s2">"password1234"</span><span class="p">,</span><span class="w"> </span><span class="s2">"4242 4242 4242 4242"</span><span class="p">],</span><span class="w">
    </span><span class="nl">"components"</span><span class="p">:</span><span class="w"> </span><span class="p">[</span><span class="w">
      </span><span class="p">{</span><span class="w">
        </span><span class="nl">"password"</span><span class="p">:</span><span class="w"> </span><span class="s2">"password1234"</span><span class="p">,</span><span class="w">
        </span><span class="nl">"credit_debit_number"</span><span class="p">:</span><span class="w"> </span><span class="s2">"4242 4242 4242 4242"</span><span class="w">
      </span><span class="p">}</span><span class="w">
    </span><span class="p">]</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>matches</strong></td>
<td>array of strings</td>
<td>The detected values words.</td>
</tr>
<tr>
<td><strong>found</strong></td>
<td>boolean</td>
<td>Indicates whether the content contains sensitive numbers.</td>
</tr>
<tr>
<td><strong>mode</strong></td>
<td>string</td>
<td>The <a href="#detection-levels">detection mode</a> that has been set for sensitive numbers in the project filter.</td>
</tr>
</tbody></table>
<h1 id='analyzing'>Analyzing</h1><h2 id='overview-2'>Overview</h2>
<p>Use our analyzers to make general conclusions about a text. <br>
All analyzers can be used from <code>/api/v1/analyze/{type}</code> or using the moderation endpoint: <code>/api/v1/moderation/text</code> if the analyzer model has been added to a project in your dashboard.</p>
<h2 id='language-analyzer'>Language Analyzer</h2>
<blockquote>
<p><code>POST /api/v1/analyze/language</code></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://moderationapi.com/api/v1/analyze/language"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer API_KEY"</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
  <span class="nt">-d</span> <span class="sb">`</span><span class="o">{</span>
       <span class="s2">"value"</span>: <span class="s2">"This is an english text"</span>
     <span class="o">}</span><span class="sb">`</span>
</code></pre></div>
<blockquote>
<p>Detect Language Response Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"code"</span><span class="p">:</span><span class="w"> </span><span class="s2">"en"</span><span class="p">,</span><span class="w"> </span><span class="err">//</span><span class="w"> </span><span class="err">in</span><span class="w"> </span><span class="err">ISO</span><span class="w"> </span><span class="mi">639</span><span class="w">
  </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"ENGLISH"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"score"</span><span class="p">:</span><span class="w"> </span><span class="mi">96</span><span class="p">,</span><span class="w">
  </span><span class="nl">"reliable"</span><span class="p">:</span><span class="w"> </span><span class="kc">true</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Detect what language a text is written in <code>/api/v1/analyze/language</code>.
Probabilistically detects over 160 languages. We&#39;re not listing all the languages here, but if you need a comprehensive list, please message us.</p>

<aside class="notice">
  Does not count against moderation quota.
</aside>
<h3 id='parameters-5'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>value</strong></td>
<td>string</td>
<td>The text you want to analyze. Limited to 10.000 characters per request.</td>
</tr>
</tbody></table>
<h3 id='returns-5'>Returns</h3>
<p>Returns an object with the detected language.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>code</strong></td>
<td>string?</td>
<td>The ISO 639 of the language. Returns null if the analyzer fails.</td>
</tr>
<tr>
<td><strong>label</strong></td>
<td>string?</td>
<td>An UPPERCASE name of the language. Returns null if the analyzer fails.</td>
</tr>
<tr>
<td><strong>score</strong></td>
<td>int</td>
<td>0-1 score with 1 meaning a high probability of being correct. Returns 0 on fails.</td>
</tr>
<tr>
<td><strong>reliable</strong></td>
<td>int</td>
<td>The analyzer is reasonably confident about this guess, e.g. the score is high.</td>
</tr>
<tr>
<td><strong>error</strong></td>
<td>string?</td>
<td>If the analyzer failed an error will be returned.</td>
</tr>
</tbody></table>
<h2 id='toxicity-analyzer'>Toxicity Analyzer</h2>
<blockquote>
<p><code>POST /api/v1/analyze/toxicity</code></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://moderationapi.com/api/v1/analyze/toxicity"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer API_KEY"</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
  <span class="nt">-d</span> <span class="sb">`</span><span class="o">{</span>
       <span class="s2">"value"</span>: <span class="s2">"I will make you regret that"</span>
     <span class="o">}</span><span class="sb">`</span>
</code></pre></div>
<blockquote>
<p>Detect Toxicity Response Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"TOXICITY"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"label_scores"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"TOXICITY"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.80321377</span><span class="p">,</span><span class="w">
    </span><span class="nl">"PROFANITY"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.16329151</span><span class="p">,</span><span class="w">
    </span><span class="nl">"DISCRIMINATION"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.12677783</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NEUTRAL"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.17654026</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Works on the whole text to detect general features like profanity, swearing, racism, threats etc. <code>/api/v1/analyze/toxicity</code>. Contrary to our <a href="#swear-words-and-profanity">profanity filter</a> the toxicity analyzer will detect cases where the profanity is not as pronounced.</p>
<h3 id='labels'>Labels</h3>
<table><thead>
<tr>
<th>Label</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>TOXICITY</strong></td>
<td>The general toxicity. If any other labels have a high score, this one is likely to score high as well.</td>
</tr>
<tr>
<td><strong>PROFANITY</strong></td>
<td>Containing swearing, curse words, and other obscene language.</td>
</tr>
<tr>
<td><strong>DISCRIMINATION</strong></td>
<td>Racism and other discrimination based on race, religion, gender, etc.</td>
</tr>
<tr>
<td><strong>NEUTRAL</strong></td>
<td>Nothing toxic was detected.</td>
</tr>
</tbody></table>
<h3 id='parameters-6'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>value</strong></td>
<td>string</td>
<td>The text you want to analyze. Limited to 10.000 characters per request.</td>
</tr>
</tbody></table>
<h3 id='returns-6'>Returns</h3>
<p>Returns an object with the detected label and respective scores.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>label</strong></td>
<td>string?</td>
<td>The most probable label. Returns null if the analyzer fails.</td>
</tr>
<tr>
<td><strong>label_scores</strong></td>
<td>obejct</td>
<td>An object containing all the label scores. From 0-1 score with 1 meaning a high probability of being correct.</td>
</tr>
</tbody></table>
<h2 id='quality-analyzer'>Quality Analyzer</h2>
<blockquote>
<p><code>POST /api/v1/analyze/quality</code></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://moderationapi.com/api/v1/analyze/quality"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer API_KEY"</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
  <span class="nt">-d</span> <span class="sb">`</span><span class="o">{</span>
       <span class="s2">"value"</span>: <span class="s2">"Want to get rich quick? Go to quickmoney.sx and sign up."</span>
     <span class="o">}</span><span class="sb">`</span>
</code></pre></div>
<blockquote>
<p>Analyze Quality Response Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"SPAM"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"label_scores"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"SPAM"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.9337343</span><span class="p">,</span><span class="w">
    </span><span class="nl">"INCOHERENT"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.89032257</span><span class="p">,</span><span class="w">
    </span><span class="nl">"UNSUBSTANTIAL"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.68944305</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NEUTRAL"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.0662657</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Detect spam and insubstantial text, etc. <code>/api/v1/analyze/quality</code>.</p>
<h3 id='labels-2'>Labels</h3>
<table><thead>
<tr>
<th>Label</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>UNSUBSTANTIAL</strong></td>
<td>Trival or short content.</td>
</tr>
<tr>
<td><strong>INCOHERENT</strong></td>
<td>Difficult to understand and nonsensical.</td>
</tr>
<tr>
<td><strong>SPAM</strong></td>
<td>Repetitive, irrelevant content trying to make you visit a website eg.</td>
</tr>
<tr>
<td><strong>NEUTRAL</strong></td>
<td>The text is relativey high quality.</td>
</tr>
</tbody></table>
<h3 id='parameters-7'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>value</strong></td>
<td>string</td>
<td>The text you want to analyze. Limited to 10.000 characters per request.</td>
</tr>
</tbody></table>
<h3 id='returns-7'>Returns</h3>
<p>Returns an object with the detected label and respective scores.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>label</strong></td>
<td>string?</td>
<td>The most probable label. Returns null if the analyzer fails.</td>
</tr>
<tr>
<td><strong>label_scores</strong></td>
<td>obejct</td>
<td>An object containing all the label scores. From 0-1 score with 1 meaning a high probability of being correct.</td>
</tr>
</tbody></table>
<h2 id='propriety-analyzer'>Propriety Analyzer</h2>
<blockquote>
<p><code>POST /api/v1/analyze/propriety</code></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://moderationapi.com/api/v1/analyze/propriety"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer API_KEY"</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
  <span class="nt">-d</span> <span class="sb">`</span><span class="o">{</span>
       <span class="s2">"value"</span>: <span class="s2">"Can I get your number? 💦"</span>
     <span class="o">}</span><span class="sb">`</span>
</code></pre></div>
<blockquote>
<p>Analyze Propriety Response Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"FLIRTATION"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"label_scores"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"FLIRTATION"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7784964</span><span class="p">,</span><span class="w">
    </span><span class="nl">"SEXUALLY_EXPLICIT"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.315303</span><span class="p">,</span><span class="w">
    </span><span class="nl">"NEUTRAL"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2215036</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>Detect sexual and flirty language. <code>/api/v1/analyze/propriety</code>. Closely related to the toxicity endpoint but specialized to detect more subtle inappropriate comments.</p>
<h3 id='labels-3'>Labels</h3>
<table><thead>
<tr>
<th>Label</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>FLIRTATION</strong></td>
<td>Pickup lines, compliments on appearance, etc.</td>
</tr>
<tr>
<td><strong>SEXUALLY_EXPLICIT</strong></td>
<td>References to sexual acts, body parts, etc.</td>
</tr>
<tr>
<td><strong>NEUTRAL</strong></td>
<td>The text is relativey high quality.</td>
</tr>
</tbody></table>
<h3 id='parameters-8'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>value</strong></td>
<td>string</td>
<td>The text you want to analyze. Limited to 10.000 characters per request.</td>
</tr>
</tbody></table>
<h3 id='returns-8'>Returns</h3>
<p>Returns an object with the detected label and respective scores.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>label</strong></td>
<td>string?</td>
<td>The most probable label. Returns null if the analyzer fails.</td>
</tr>
<tr>
<td><strong>label_scores</strong></td>
<td>obejct</td>
<td>An object containing all the label scores. From 0-1 score with 1 meaning a high probability of being correct.</td>
</tr>
</tbody></table>
<h1 id='custom-models'>Custom models</h1><h2 id='overview-3'>Overview</h2>
<p>Consider creating custom models tailored to your specific needs, aiming to improve accuracy under special use cases. <br>
Custom models work similar to the default analyzers, but you can train them to detect specific labels. <br>
All custom models can be used from <code>/api/v1/analyze/{modelId}</code> or using the moderation endpoint: <code>/api/v1/moderation/text</code> if the model has been added to a project in your dashboard.</p>
<h2 id='creating-a-custom-model'>Creating a custom model</h2>
<p>Create and train custom models from your dashboard. In the dashboard you can create your own labels, and import data to train the model on.<br>
The model will work best if you can provide minimum 100 examples for each label you want to detect. <br></p>
<h2 id='using-a-custom-model'>Using a custom model</h2>
<blockquote>
<p><code>POST /api/v1/analyze/[modelId]</code></p>
</blockquote>
<div class="highlight"><pre class="highlight shell tab-shell"><code>curl <span class="s2">"https://moderationapi.com/api/v1/analyze/[modelId]"</span> <span class="se">\</span>
  <span class="nt">-H</span> <span class="s2">"Authorization: Bearer API_KEY"</span>
  <span class="nt">-H</span> <span class="s2">"Content-Type: application/json"</span>
  <span class="nt">-d</span> <span class="sb">`</span><span class="o">{</span>
       <span class="s2">"value"</span>: <span class="s2">"How are you doing?"</span>
     <span class="o">}</span><span class="sb">`</span>
</code></pre></div>
<blockquote>
<p>Custom model Response Example:</p>
</blockquote>
<div class="highlight"><pre class="highlight json tab-json"><code><span class="p">{</span><span class="w">
  </span><span class="nl">"label"</span><span class="p">:</span><span class="w"> </span><span class="s2">"LABEL_1"</span><span class="p">,</span><span class="w">
  </span><span class="nl">"label_scores"</span><span class="p">:</span><span class="w"> </span><span class="p">{</span><span class="w">
    </span><span class="nl">"LABEL_1"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.7784964</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LABEL_2"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.315303</span><span class="p">,</span><span class="w">
    </span><span class="nl">"LABEL_3"</span><span class="p">:</span><span class="w"> </span><span class="mf">0.2215036</span><span class="w">
  </span><span class="p">}</span><span class="w">
</span><span class="p">}</span><span class="w">
</span></code></pre></div>
<p>It is recommended to use custom models by adding them to a project in your dashboard. <br></p>
<h3 id='parameters-9'>Parameters</h3>
<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>value</strong></td>
<td>string</td>
<td>The text you want to analyze.</td>
</tr>
</tbody></table>
<h3 id='returns-9'>Returns</h3>
<p>Returns an object with the detected label and respective scores.</p>

<table><thead>
<tr>
<th>Parameter</th>
<th>Type</th>
<th>Description</th>
</tr>
</thead><tbody>
<tr>
<td><strong>label</strong></td>
<td>string?</td>
<td>The most probable label. Returns null if the analyzer fails.</td>
</tr>
<tr>
<td><strong>label_scores</strong></td>
<td>obejct</td>
<td>An object containing all the label scores. From 0-1 score with 1 meaning a high probability of being correct.</td>
</tr>
</tbody></table>
<h2 id='limits'>Limits</h2><h3 id='characters'>Characters</h3>
<p>Your monthly quota is measured based on a count of 1 for every 1000 characters. <br></p>
<h3 id='training-examples'>Training examples</h3>
<p>Custom models can have a maximum of 5000 training examples, which should be sufficient for most scenarios. However, if you require additional training examples, please reach out to our support team. Additionally, each training example can have a maximum length of 10,000 characters.</p>

      </div>
      <div class="dark-box">
      </div>
    </div>
  </body>
</html>
